<div class="container bg-main-lightt">
  <div class="w-75 m-auto">
    <h2 class="py-3">Cart Details :</h2>
    <div >
      <button class="btn btn-outline-danger mb-3 me-4" (click)="clearAllCart()">
        <span><i class="fa-solid fa-trash-can"></i></span>
        Delete All Cart
      </button>
      <a [routerLink]="['/shippingAddress',allCart?.data?._id]">
      <button class="btn btn-outline-success mb-3">
        <span><i class="fa-solid fa-money-check-dollar"></i></span>
        Pay Now
      </button>
    </a>
    </div>
    <div class="d-flex justify-content-between align-items-center ">
      <p>Total Cart Items : <span class="text-main fw-bold">{{allCart?.numOfCartItems}}</span></p>
      <p>Total Price : <span class="text-main fw-bold">{{allCart?.data?.totalCartPrice}}</span></p>
    </div>

    <div *ngIf="!allCart?.data?.products?.length" class="fs-2 mx-auto bg-main-light w-50 text-center">
      <p> Cart is empty <span class="text-main"><i class="fa-solid fa-exclamation"></i></span></p>

    </div>


    <div class="row border-bottom py-5 align-items-center" *ngFor="let product of allCart?.data?.products" >

  <div class="col-md-2">
    <img [src]="product.product.imageCover" class="w-100" [alt]="product.product.title">
  </div>
  <div class="col-md-8">
    <h3 class="h5 pb-2">{{product.product.title}}</h3>
    <p class="text-main fw-bold">Price : {{product.price}}</p>
    <p class=" text-muted">{{product.product.category.name}}</p>
    <button class="btn btn-outline-danger" (click)="removeCartItem(product.product._id)" >
      <span><i class="fa-solid fa-trash-can"></i></span>
      Remove
    </button>
  </div>
  <div class="col-md-2">
    <button class="btn " (click)="updateCartItem(product.product._id,product.count +1)" ><i class="fa-solid fa-circle-plus fs-5 text-main"></i></button>
    <span>{{product.count}}</span>
    <button class="btn" (click)="updateCartItem(product.product._id,product.count -1)"><i class="fa-solid fa-circle-minus fs-5 text-main"></i></button>
  </div>
    </div>
  </div>

</div>
